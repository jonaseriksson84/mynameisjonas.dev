# mynameisjonas.dev — Progress Log

## TASK-001: Setup — Install dependencies and configure project
- Installed tailwindcss@^4, @tailwindcss/vite@^4, @astrojs/cloudflare
- Updated astro.config.mjs with Tailwind vite plugin and Cloudflare adapter
- Created wrangler.toml with [assets] directory = "./dist"
- Updated package.json: name=mynameisjonas-dev, added deploy script
- Updated .gitignore with .wrangler/ and .dev.vars
- Build and dev server verified working
- Status: COMPLETE

## TASK-002: Feature — Global styles with Tailwind v4 theme
- Created src/styles/global.css with @import 'tailwindcss'
- Added @theme block with all 10 color variables (accent, bg, surface, text, text-muted for light/dark)
- Added base styles for html (scroll-behavior) and body (bg/color with transitions)
- Added html.dark body styles for dark mode
- Added view transition CSS (::view-transition-old/new with 0.4s duration)
- Added 4 keyframe animations: fade-in, fade-out, fade-in-up, scale-in
- Added utility classes: .animate-fade-in-up, .animate-scale-in
- Added reduced motion media query to disable all animations
- Added stagger delay utilities .delay-0 through .delay-8 (75ms intervals)
- Build verified passing
- Status: COMPLETE

## TASK-003: Feature — Base layout and shared components (Header, Footer, ThemeToggle)
- Created src/layouts/BaseLayout.astro with HTML shell, meta tags, theme flash prevention script (inline), global CSS import
- Created src/components/ThemeToggle.astro with sun/moon SVG icons, CSS visibility toggling via :global(html.dark), View Transitions API with fallback, hover/active transforms
- Created src/components/Header.astro with sticky nav, backdrop-blur, site title link, nav links (About, Projects, CV), blog link commented out with explanation comment, active link highlighting via Astro.url.pathname, ThemeToggle integration, dark mode support
- Created src/components/Footer.astro with copyright (dynamic year), social links (GitHub, LinkedIn, Email) with SVG icons, muted text with hover accent color, dark mode support
- Updated src/pages/index.astro to use BaseLayout
- Build verified passing
- Status: COMPLETE

## TASK-006: Feature — CV data migration
- Created src/data/cv.ts with full TypeScript interfaces (Job, Education, TechCategory, ContactInfo)
- Migrated all 5 jobs from cv-astro Experience.astro with exact data
- Migrated both education entries from cv-astro Education.astro
- Migrated all 5 tech stack categories from cv-astro TechStack.astro
- Added contactInfo with email, phone, address, website
- Added aboutText with both bio paragraphs
- Implemented getGroupedJobs() helper — correctly groups HiQ jobs (2) and Capgemini jobs (1)
- Copied portrait image from cv-astro/public/jonas2.jpg to public/jonas.jpg
- TypeScript compiles without errors, build passes
- Status: COMPLETE

## TASK-004: Feature — About Me page (home / index)
- Replaced placeholder index.astro with full landing page using BaseLayout
- Portrait image (jonas.jpg) with rounded-full, border-4 border-accent, w-32 h-32, animate-scale-in
- Heading: "Hi, I'm Jonas" with text-4xl font-bold, animate-fade-in-up delay-1
- Subtitle: "Fullstack Engineer & Tech Lead" with text-lg text-muted, animate-fade-in-up delay-2
- Bio text imported from cv.ts aboutText, 2 paragraphs with animate-fade-in-up delay-3
- CTA buttons: "View CV" (accent bg, white text) and "See Projects" (outline style) with animate-fade-in-up delay-4
- Dark mode support for all text elements
- Centered layout with proper spacing
- Build verified passing
- Status: COMPLETE

## TASK-007: Feature — CV page and components
- Created src/pages/cv.astro composing all 6 CV sub-components with BaseLayout
- Created src/components/cv/CvHeader.astro with portrait (rounded-full, w-24 h-24, border-2 border-accent), name, and title
- Created src/components/cv/CvContact.astro with email, phone, address, website — inline SVG icons in accent color
- Created src/components/cv/CvAbout.astro with section title style (uppercase, tracking-wider, orange dot) and bio paragraphs from cv.ts
- Created src/components/cv/CvTechStack.astro with 5 categories, each with tag pills (rounded-full, bordered, small text)
- Created src/components/cv/CvExperience.astro with getGroupedJobs() — consultancy groups in dashed border containers with orange pill label, individual jobs with title @ company, period, achievements, buzzword pills
- Created src/components/cv/CvEducation.astro with degree, period, institution in accent color, details
- All sections use consistent section title styling (text-sm font-semibold uppercase tracking-wider text-muted + orange dot)
- Stagger animations on all sections (animate-fade-in-up with delay-0 through delay-5)
- Full dark mode support across all components
- Build verified passing
- Status: COMPLETE

## TASK-005: Feature — Projects page
- Created src/pages/projects.astro with BaseLayout (title: 'Projects — Jonas Eriksson')
- Section heading with consistent section title style (uppercase, tracking-wider, orange dot)
- Hardcoded projects array with 2 projects: onelink and mynameisjonas.dev
- Each project has title, description, tech array, url, and github link
- Responsive grid: 1 col mobile, 2 col sm+ (grid-cols-1 sm:grid-cols-2)
- Project cards with surface bg, rounded-xl, p-6, border-transparent
- Hover effect: translateY(-2px), border-accent, shadow-lg via scoped CSS
- Tech tag pills matching CV style (rounded-full, bordered, small text)
- Optional GitHub/URL links at bottom of each card
- Stagger animations on cards (animate-fade-in-up with incrementing delays)
- Dark mode support for cards and all text elements
- Build verified passing
- Status: COMPLETE

## TASK-008: Feature — Blog setup with Content Collections
- Created src/content/config.ts with blog collection using glob loader and Zod schema (title, description, date, tags, draft)
- Created src/content/blog/.gitkeep to keep empty directory in git
- Created src/pages/blog/index.astro with empty state handling ("No posts yet. Check back soon!"), draft filtering, date sorting
- Created src/pages/blog/[...slug].astro with getStaticPaths, post rendering, prose styling, back link, tag pills
- Blog nav link confirmed commented out in Header.astro with "Uncomment when blog posts are ready" comment
- Build verified passing — blog index renders empty state at /blog
- Status: COMPLETE

## TASK-009: Improvement — Fix light mode styling issues
- Header: Changed from bg-surface-light/80 to bg-white/90 with backdrop-blur-md for crisp light background; softened border to border-stone-200/60
- Project cards: Changed from bg-surface-light with border-transparent to bg-white with border-stone-200 for visible card edges in light mode; dark mode keeps border-transparent
- Project card tech tags: Changed from bg-bg-light with muted border to bg-stone-100 border-stone-200 text-stone-700 for proper light mode contrast; dark mode uses bg-stone-800 border-stone-700 text-stone-300
- CV buzzword pills (CvExperience): Same pill fix as projects — bg-stone-100/border-stone-200/text-stone-700 light, bg-stone-800/border-stone-700/text-stone-300 dark
- CV tech stack tag pills (CvTechStack): Same pill fix — consistent stone-tone styling across all pill elements
- All elements verified correct in dark mode (no regressions)
- Build verified passing
- Status: COMPLETE

## TASK-010: Improvement — CV layout: experience front and center, collapsible about & tech stack
- Reordered CV page sections: CvHeader → CvContact → CvExperience → CvAbout → CvTechStack → CvEducation
- Experience now appears immediately after header/contact, as the primary focus of the CV
- Made CvAbout collapsible using <details>/<summary> — collapsed by default
  - Summary shows section title with chevron indicator that rotates on open
  - Hidden default marker, custom styling with hover state
- Made CvTechStack collapsible using <details>/<summary> — collapsed by default
  - Same disclosure pattern as About section for consistency
  - More compact layout: 2-column grid (sm+) with inline category labels followed by pills
  - Category title displayed as inline label with colon, followed by tag pills in a flowing row
- Both collapsible sections have chevron rotation animation (duration-200, rotate-90 on open)
- Build verified passing
- Status: COMPLETE

## TASK-012: Improvement — Update projects page content
- Replaced onelink and mynameisjonas.dev project entries with two new projects
- Added 3D Earth: Interactive 3D globe visualization — tech: Three.js, TypeScript, Cloudflare Workers
  - URL: https://3d-earth.je-projects.workers.dev/
  - GitHub: https://github.com/jonaseriksson84/3d-earth
- Added ChromaCross: Daily word puzzle game — tech: TypeScript, React, Cloudflare Workers
  - URL: https://chromacross.app/
  - GitHub: https://github.com/jonaseriksson84/chromacross
- Card layout, hover effects, and styling preserved unchanged
- Build verified passing
- Status: COMPLETE

## TASK-011: Improvement — Improve CV header and contact info styling
- CvHeader: Increased heading to text-4xl, split name into font-light "Jonas" + font-bold "Eriksson" for visual personality
- CvHeader: Added subtle accent underline bar (w-12 h-0.5 bg-accent rounded-full) between name and role
- CvContact: Made compact horizontal layout with inline-flex items and · dot separators
- CvContact: Reduced icon size from w-4 h-4 to w-3.5 h-3.5 for tighter fit
- CvContact: Shortened address to just "Stockholm" to fit single line on desktop
- CvContact: Uses flex-wrap with small gap-y-1 for graceful mobile wrapping
- CV page: Merged header and contact into single animation block (space-y-3) so they feel like one unit
- CV page: Re-sequenced stagger delays (0-4) after merging header/contact
- Dark mode works correctly for both components
- Build verified passing
- Status: COMPLETE

## TASK-013: Testing — Add comprehensive test suite using Vitest
- Installed vitest@4 and happy-dom as dev dependencies
- Created vitest.config.ts with happy-dom environment
- Added test and test:watch scripts to package.json (using pnpm)
- Created tests/cv-data.test.ts (23 tests):
  - contactInfo: validates all fields (email, phone, address, website)
  - aboutText: validates 2 paragraphs with expected content
  - jobs: validates 5 jobs, required fields, consultant vs direct jobs
  - education: validates 2 entries with correct institutions
  - techStack: validates 5 categories with expected titles and items
  - getGroupedJobs(): validates 4 groups — Embark (1), Reason (1), HiQ (2), Capgemini (1), correct order
- Created tests/blog-schema.test.ts (9 tests):
  - Valid frontmatter with all fields accepted
  - Minimal frontmatter (defaults applied for tags and draft)
  - Date coercion from string to Date object
  - Rejects missing title, description, or date
  - Rejects invalid tag types
  - Validates draft: true and default false
- Created tests/build.test.ts (2 tests):
  - Build completes successfully (pnpm build)
  - All expected routes generated: /, /projects, /cv, /blog
- Created tests/theme.test.ts (6 tests):
  - Theme init: adds dark class when localStorage is 'dark'
  - Theme init: no dark class when localStorage is 'light'
  - Theme init: defaults to light when no preference
  - Theme toggle: toggles to dark and persists
  - Theme toggle: toggles back to light and persists
  - Theme round-trip: toggle + simulated reload preserves state
- All 40 tests pass, build verified passing
- Status: COMPLETE

## TASK-015: Bugfix — Fix light mode headings visibility
- Root cause: Tailwind v4's `dark:` variant defaulted to `@media(prefers-color-scheme:dark)`, but site uses class-based dark mode (`html.dark` toggle)
- When OS dark mode was active, ALL `dark:` utilities activated regardless of the theme toggle, causing white headings on light backgrounds
- Fix: Added `@custom-variant dark (&:where(.dark, .dark *));` to src/styles/global.css
- This single line change tells Tailwind v4 to use class-based dark mode instead of media query-based
- All `dark:` utilities now only activate when `.dark` class is present on the html element
- Also fixes dark mode for ALL elements site-wide (not just headings) — bg, text, border, etc.
- Verified: `prefers-color-scheme` no longer appears in compiled CSS output
- Verified: dark selectors now use `:where(.dark, .dark *)` pattern
- All h1/h2/h3 elements use appropriate dark text colors in light mode
- Dark mode still works correctly via class toggle
- All 40 tests pass, build verified passing
- Status: COMPLETE

## TASK-020: Bugfix — Capitalize Header site title
- Changed 'jonas eriksson' to 'Jonas Eriksson' in Header.astro site title link
- All 40 tests pass, build verified passing
- Status: COMPLETE

## TASK-016: Bugfix — Fix light mode text contrast
- Root cause: --color-text-muted-light was #78716c (stone-500), giving only ~4.2:1 contrast ratio against #fafaf9 background
- Fix: Changed --color-text-muted-light to #57534e (stone-600), improving contrast to ~6.3:1 (above WCAG AA 4.5:1)
- Single-line change in src/styles/global.css @theme block
- Affects all muted/body text site-wide: bio paragraphs, job achievements, descriptions, secondary text, timestamps
- All pages (home, projects, CV, blog) now have clearly readable text in light mode
- Dark mode text styling completely unaffected (--color-text-muted-dark unchanged)
- All 40 tests pass, build verified passing
- Status: COMPLETE

## TASK-014: Bugfix — Fix light mode pill/tag styling
- Updated pill/tag elements across all 3 files: CvTechStack.astro, CvExperience.astro, projects.astro
- Changed light mode background from bg-stone-100 to bg-white for cleaner appearance
- Changed light mode border from border-stone-200 to border-stone-300 for more visible outline
- Kept text-stone-700 in light mode (good contrast)
- Dark mode styling unchanged (bg-stone-800, border-stone-700, text-stone-300)
- Pills now blend naturally with the light theme using white bg with subtle gray outline
- All 40 tests pass, build verified passing
- Status: COMPLETE

## TASK-017: Bugfix — Fix light mode project card backgrounds
- Already fixed in TASK-009: cards use bg-white dark:bg-surface-dark with border-stone-200
- Verified: cards have white background with subtle border in light mode, dark surface in dark mode
- Marking as complete (was fixed but not marked as passing)
- Status: COMPLETE

## TASK-019: Bugfix — Fix Header light mode styling
- Already fixed in TASK-009: header uses bg-white/90 with backdrop-blur-md and border-stone-200/60
- Verified: header looks clean and polished in light mode with proper contrast for all elements
- Dark mode uses bg-surface-dark/80 with border-stone-800 (no regressions)
- Marking as complete (was fixed but not marked as passing)
- Status: COMPLETE

## TASK-018: Improvement — Add visual dividers to About/Tech Stack sections
- CvTechStack: Replaced 2-column grid with single-column list using `divide-y divide-stone-200/80 dark:divide-stone-700/50`
- Each tech category now separated by a subtle horizontal rule for clear visual distinction
- Categories retain compact layout with inline category label + flowing pills
- CvAbout: Added `border-t border-stone-200/80 dark:border-stone-700/50` with `pt-2` to content area
- Creates visual separation between the summary trigger and the expanded bio content
- Dividers work correctly in both light and dark modes (stone-200/80 light, stone-700/50 dark)
- Layout remains compact — dividers add visual clarity without significant extra whitespace
- All 40 tests pass, build verified passing
- Status: COMPLETE
