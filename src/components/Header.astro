---
import ThemeToggle from './ThemeToggle.astro';

const pathname = Astro.url.pathname;

const navLinks = [
  { label: 'About', href: '/' },
  { label: 'Projects', href: '/projects' },
  { label: 'CV', href: '/cv' },
];

function isActive(href: string): boolean {
  if (href === '/') {
    return pathname === '/' || pathname === '';
  }
  return pathname.startsWith(href);
}
---

<nav class="sticky top-0 z-40 backdrop-blur-md bg-white/90 dark:bg-surface-dark/80 border-b border-stone-200/60 dark:border-stone-800">
  <div class="max-w-3xl mx-auto px-4 flex items-center justify-between h-14">
    <a href="/" class="font-semibold text-base hover:text-accent transition-colors">
      Jonas Eriksson
    </a>
    <div class="flex items-center gap-6">
      {navLinks.map((link) => (
        <a
          href={link.href}
          class:list={[
            'text-sm transition-colors',
            isActive(link.href)
              ? 'text-accent font-semibold'
              : 'text-text-muted-light dark:text-text-muted-dark hover:text-accent',
          ]}
        >
          {link.label}
        </a>
      ))}
      <!-- Uncomment when blog posts are ready -->
      <!-- <a href="/blog">Blog</a> -->
      <ThemeToggle />
    </div>
  </div>
</nav>
